---
import BaseLayout from '../layouts/BaseLayout.astro';
import PagefindSearch from 'astro-pagefind/components/Search';
---

<BaseLayout
	title="Search Artworks - OnView"
	description="Search through over 2000 artworks from the Metropolitan Museum of Art's collection."
	url="https://onview.dev/search"
>
	<div class="container mx-auto px-4 mt-6" data-pagefind-ignore>
		<h1 class="text-4xl text-gray-warm-100 text-center mb-4">Search</h1>
		<p class="text-gray-warm-300 text-center max-w-2xl mx-auto mb-8">
			Search for artworks by title, artist, culture, or medium
		</p>

		<PagefindSearch
			id="search"
			className="pagefind-ui"
			uiOptions={{
				showImages: true,
				excerptLength: 15,
			}}
		/>
	</div>
</BaseLayout>

<style is:global>
	.pagefind-ui {
		--pagefind-ui-scale: 1;
		--pagefind-ui-primary: #efe1d8;
		--pagefind-ui-text: #efe1d8;
		--pagefind-ui-background: #25221b;
		--pagefind-ui-border: rgba(105, 99, 90, 0.8);
		--pagefind-ui-tag: rgba(37, 34, 27, 0.9);
		--pagefind-ui-border-width: 1px;
		--pagefind-ui-border-radius: 0.375rem;
		--pagefind-ui-image-border-radius: 0.375rem;
		--pagefind-ui-image-box-ratio: 3 / 2;
		--pagefind-ui-font: inherit;
	}

	/* Search input styling */
	.pagefind-ui__search-input {
		background-color: rgba(37, 34, 27, 0.9);
		color: #efe1d8;
		border: 1px solid rgba(105, 99, 90, 0.8);
		border-radius: 0.375rem;
		padding: 0.75rem 1rem;
		font-size: 1rem;
		transition: all 0.2s ease;
	}

	.pagefind-ui__search-input:focus {
		background-color: #25221b;
		border-color: #69635a;
		outline: none;
	}

	.pagefind-ui__search-input::placeholder {
		color: #827a72;
	}

	/* Search clear button */
	.pagefind-ui__search-clear {
		color: #b7aca3;
	}

	.pagefind-ui__search-clear:hover {
		color: #efe1d8;
	}

	/* Results container */
	.pagefind-ui__results {
		margin-top: 1.5rem;
		background-color: rgba(37, 34, 27, 0.9);
		border: 1px solid rgba(105, 99, 90, 0.8);
		border-radius: 0.375rem;
		overflow: hidden;
	}

	/* Individual result card */
	.pagefind-ui__result {
		background-color: transparent;
		border: none !important;
		border-radius: 0;
		padding: 1.25rem 1.25rem 1.25rem 1.5rem;
		margin-bottom: 0;
		transition: all 0.2s ease;
	}

	.pagefind-ui__result:not(:last-child) {
		border-bottom: 1px solid rgba(105, 99, 90, 0.8) !important;
	}

	.pagefind-ui__result:hover {
		background-color: #25221b;
	}

	/* Result title */
	.pagefind-ui__result-title {
		font-size: 1.125rem;
		font-weight: 600;
		color: #efe1d8;
		margin-bottom: 0.5rem;
	}

	.pagefind-ui__result-link {
		color: #efe1d8;
		text-decoration: none;
	}

	.pagefind-ui__result-link:hover {
		color: rgba(239, 225, 216, 0.7);
	}

	/* Result excerpt */
	.pagefind-ui__result-excerpt {
		color: #b7aca3;
		font-size: 0.875rem;
		line-height: 1.5;
		margin-top: 0.5rem;
	}

	/* Result image */
	.pagefind-ui__result-image {
		border-radius: 0.375rem;
		overflow: hidden;
	}

	/* Message (no results, etc) */
	.pagefind-ui__message {
		color: #b7aca3;
		text-align: center;
		padding: 2rem;
	}

	/* Loading state */
	.pagefind-ui__loading {
		color: #827a72;
	}

	/* Button styling */
	.pagefind-ui__button {
		background-color: rgba(37, 34, 27, 0.9);
		color: #efe1d8;
		border: 1px solid rgba(105, 99, 90, 0.8);
		border-radius: 0.375rem;
		padding: 0.5rem 1rem;
		transition: all 0.2s ease;
	}

	.pagefind-ui__button:hover {
		background-color: #25221b;
		border-color: #69635a;
	}
</style>
